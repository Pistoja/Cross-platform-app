<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IONIC 2</title>
    <script type="module" src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.esm.js"></script>
<script nomodule src="https://cdn.jsdelivr.net/npm/@ionic/core/dist/ionic/ionic.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@ionic/core/css/ionic.bundle.css"/>
<style>
    :root {
        --ion-background-color: red;
    }
    @media (prefers-color-scheme: dark){
        :root {
            --ion-background-color: #222;
        }
    }
</style>
</head>
<body>
     <!-- TAG PRINCIPALE SOLO UNO PER APP -->
    <ion-app>
        <ion-header translucent>
            <ion-toolbar>
                <ion-button slot="start">
                    <ion-button>
                        <ion-icon slot="icon-only" name="people"></ion-icon>
                    </ion-button>
                </ion-button>
                <ion-title>Searchbar</ion-title>
                <ion-button slot="end">
                    <ion-button>
                        <ion-icon slot="icon-only" name="help"></ion-icon>
                    </ion-button>
                </ion-button>
            </ion-toolbar>
        </ion-header>
        <ion-content Fullscreen>
            <ion-list>
                <ion-item>Amsterdam</ion-item>
                <ion-item>Bogota</ion-item>
                <ion-item>Buenos Aires</ion-item>
                <ion-item>Cairo</ion-item>
                <ion-item>Dhaka</ion-item>
                <ion-item>Amsterdam</ion-item>
                <ion-item>Bogota</ion-item>
                <ion-item>Buenos Aires</ion-item>
                <ion-item>Cairo</ion-item>
                <ion-item>Dhaka</ion-item>
                <ion-item>Amsterdam</ion-item>
                <ion-item>Bogota</ion-item>
                <ion-item>Buenos Aires</ion-item>
                <ion-item>Cairo</ion-item>
                <ion-item>Dhaka</ion-item>
                <ion-item>Amsterdam</ion-item>
                <ion-item>Bogota</ion-item>
                <ion-item>Buenos Aires</ion-item>
                <ion-item>Cairo</ion-item>
                <ion-item>Dhaka</ion-item>
            </ion-list>
            
        </ion-content>
    </ion-app>
    <script>
        const searchbar = documents.querySelector('ion-searchbar');
        const items = Array.from(document.querySelector('ion-list').children);
        searchbar.addEventListener('ionInput', handleInput);
        function handleInput(event) {
            const query = event.target.value.toLowerCase();
            console.log(items)
            requestAnimationFrame(() => {
                items.forEach(item => {
                    const shouldShow = item.textContent.toLowerCase().indexOf(query) > -1;
                    item.style.display = shouldShow ? 'block' : 'none';
                })
            })   
        }
    </script>
</body>
</html>